(this.webpackJsonpproj=this.webpackJsonpproj||[]).push([[0],{255:function(e,t,a){},256:function(e,t,a){},456:function(e,t,a){},457:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(1),r=a.n(c),s=a(47),i=a.n(s),o=(a(255),a(256),a(41)),d=a(17),u=a(462),l=a(467),h=a(29),j=a(468),p=function(){var e=Object(d.f)();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(u.a,{className:"mb-4",children:Object(n.jsxs)(u.a.Body,{children:[Object(n.jsxs)(l.a,{children:[Object(n.jsx)(l.a.Item,{onClick:function(){e.push("/")},icon:Object(n.jsx)(h.a,{icon:"home"}),children:"Home"}),Object(n.jsx)(j.a,{title:"Insert",children:Object(n.jsx)(j.a.Item,{onClick:function(){e.push("/new")},children:"New connector"})})]}),Object(n.jsx)(l.a,{pullRight:!0,children:Object(n.jsx)(l.a.Item,{onClick:function(){e.push("/login")},icon:Object(n.jsx)(h.a,{icon:"sign-in"}),children:"Login"})})]})})})},b=(a(392),a(465)),O=b.a.Column,m=b.a.HeaderCell,f=b.a.Cell,x=function(e){var t=e.connectors,a=Object(d.f)();return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(b.a,{className:"mb-4",virtualized:!0,height:550,data:t,onRowClick:function(e){return function(e){a.push("/connectors/"+e.id)}(e)},children:[Object(n.jsxs)(O,{width:150,children:[Object(n.jsx)(m,{children:"Name"}),Object(n.jsx)(f,{dataKey:"name"})]}),Object(n.jsxs)(O,{width:200,children:[Object(n.jsx)(m,{children:"Source(s)"}),Object(n.jsx)(f,{dataKey:"sources"})]}),Object(n.jsxs)(O,{width:200,children:[Object(n.jsx)(m,{children:"Destination(s)"}),Object(n.jsx)(f,{dataKey:"destinations"})]})]})})},v=a(36),C=a(11),g=a(12),D=a.n(g),k=a(16),w=a(19),P=function(e,t){switch(t.type){case"set-connectors":return Object(C.a)(Object(C.a)({},e),{},{connectors:t.payload});case"set-active-connector":return Object(C.a)(Object(C.a)({},e),{},{activeConnector:t.payload});case"set-user":return Object(C.a)(Object(C.a)({},e),{},{user:t.payload});default:return e}},y=a(46),I=a.n(y),N=a(469),L={connectors:[],user:null,activeConnector:null},S=Object(c.createContext)(L),R=function(e){var t=e.children,a=Object(c.useReducer)(P,L),r=Object(w.a)(a,2),s=r[0],i=r[1],o=function(){var e=Object(k.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/api/v1/connectors");case 2:t=e.sent,i({type:"set-connectors",payload:t.data});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(k.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/api/v1/connectors/".concat(t));case 2:a=e.sent,O(a.data[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(k.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("/api/v1/connectors",Object(C.a)({},t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(k.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.delete("/api/v1/connectors/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(k.a)(D.a.mark((function e(t,a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.put("/api/v1/connectors",{action:"addsource",sourceId:t,conId:a});case 3:return i({type:"set-active-connector",payload:Object(C.a)(Object(C.a)({},s.activeConnector),{},{sources:[].concat(Object(v.a)(s.activeConnector.sources),[t])})}),e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(0),"hassource"===e.t0.response.data.msg?N.a.error("source already exists",4e3):"isindests"===e.t0.response.data.msg&&N.a.error("this id is a destination",5e3),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(k.a)(D.a.mark((function e(t,a){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.put("/api/v1/connectors",{action:"removesource",sourceId:t,conId:a});case 2:return n=s.activeConnector.sources.filter((function(e){return e!==t})),i({type:"set-active-connector",payload:Object(C.a)(Object(C.a)({},s.activeConnector),{},{sources:n})}),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(k.a)(D.a.mark((function e(t,a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.put("/api/v1/connectors",{action:"adddest",destId:t,conId:a});case 3:return i({type:"set-active-connector",payload:Object(C.a)(Object(C.a)({},s.activeConnector),{},{destinations:[].concat(Object(v.a)(s.activeConnector.destinations),[t])})}),e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(0),"hasdest"===e.t0.response.data.msg?N.a.error("destination already exists",4e3):"isinsources"===e.t0.response.data.msg&&N.a.error("this id is a source",5e3),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(k.a)(D.a.mark((function e(t,a){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.put("/api/v1/connectors",{action:"removedest",destId:t,conId:a});case 2:return n=s.activeConnector.destinations.filter((function(e){return e!==t})),i({type:"set-active-connector",payload:Object(C.a)(Object(C.a)({},s.activeConnector),{},{destinations:n})}),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),O=function(e){i({type:"set-active-connector",payload:e})},m=function(){var e=Object(k.a)(D.a.mark((function e(t,a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.put("/api/v1/connectors",{action:"saverules",rules:t,conId:a});case 3:i({type:"set-active-connector",payload:Object(C.a)(Object(C.a)({},s.activeConnector),{},{rules:t})}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),N.a.error(e.t0.response.data.msg);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.jsx)(S.Provider,{value:{connectors:s.connectors,activeConnector:s.activeConnector,user:s.user,getConnectors:o,setActiveConnector:O,getUser:function(){localStorage.getItem("token")},getConnector:d,addConnector:u,deleteConnector:l,addSource:h,removeSource:j,addDest:p,removeDest:b,saveRules:m,login:function(e){console.log(e)}},children:t})},F=function(){var e=Object(c.useContext)(S),t=e.getConnectors,a=e.user,r=e.getUser,s=e.connectors;return Object(c.useEffect)((function(){r(),t()}),[]),a?Object(n.jsxs)(n.Fragment,{children:["please ",Object(n.jsx)(o.b,{to:"/login",children:"log in"})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{className:"mb-4",children:"Connectors"}),Object(n.jsx)(x,{connectors:s})]})},B=a(473),E=a(464),A=a(474),M=a(470),H=a(48),z=function(){var e=Object(c.useContext)(S).login,t=Object(c.useState)({username:"",password:""}),a=Object(w.a)(t,2),r=a[0],s=a[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"mb-4",children:"Login"}),Object(n.jsxs)(B.a,{children:[Object(n.jsxs)(E.a,{children:[Object(n.jsx)(A.a,{children:"Username:"}),Object(n.jsx)(M.a,{onChange:function(e){s(Object(C.a)(Object(C.a)({},r),{},{username:e}))},name:"name"})]}),Object(n.jsxs)(E.a,{children:[Object(n.jsx)(A.a,{children:"Password:"}),Object(n.jsx)(M.a,{onChange:function(e){s(Object(C.a)(Object(C.a)({},r),{},{password:e}))},name:"password",type:"password"})]}),Object(n.jsx)(E.a,{children:Object(n.jsx)(H.a,{onClick:function(){e(r)},appearance:"primary",className:"px-5",children:"Login"})})]})]})},K=function(){var e=Object(c.useContext)(S).addConnector,t=Object(d.f)(),a=Object(c.useState)({name:""}),r=Object(w.a)(a,2),s=r[0],i=r[1],o=function(){var a=Object(k.a)(D.a.mark((function a(){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(s);case 2:t.push("/");case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"mb-4",children:"Add new connector"}),Object(n.jsxs)(B.a,{children:[Object(n.jsxs)(E.a,{children:[Object(n.jsx)(A.a,{children:"Name:"}),Object(n.jsx)(M.a,{onChange:function(e){i(Object(C.a)(Object(C.a)({},s),{},{name:e}))},name:"name"})]}),Object(n.jsx)(E.a,{children:Object(n.jsx)(H.a,{appearance:"primary",className:"px-5",onClick:o,children:"Create"})})]})]})},T=a(478),U=a(479),W=a(480),J=a(481),V=a(472),_=function(e){var t=e.source,a=e.removeSource;return Object(n.jsxs)(V.a,{justify:"space-between",children:[Object(n.jsx)(V.a.Item,{children:t}),Object(n.jsx)(V.a.Item,{onClick:function(){a(t)},children:Object(n.jsx)(h.a,{icon:"close",style:{color:"#c43",cursor:"pointer"}})})]})},q=function(e){var t=e.sources,a=e.conId,r=Object(c.useContext)(S),s=r.addSource,i=r.removeSource,o=Object(c.useState)({sourceId:""}),d=Object(w.a)(o,2),u=d[0],l=d[1],h=function(){var e=Object(k.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(u.sourceId,a);case 2:l({sourceId:""});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(k.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[0===t.length?"no source":t.map((function(e){return Object(n.jsx)(_,{source:e,removeSource:j},e)})),Object(n.jsxs)(B.a,{className:"mt-3",children:[Object(n.jsx)(E.a,{children:Object(n.jsx)(M.a,{onChange:function(e){l(Object(C.a)(Object(C.a)({},u),{},{sourceId:e}))},value:u.sourceId,style:{maxWidth:"100%"},placeholder:"Enter source id"})}),Object(n.jsx)(E.a,{children:Object(n.jsx)(H.a,{color:"green",appearance:"ghost",onClick:h,children:"Add source"})})]})]})},G=function(e){var t=e.destination,a=e.removeDest;return Object(n.jsxs)(V.a,{justify:"space-between",children:[Object(n.jsx)(V.a.Item,{children:t}),Object(n.jsx)(V.a.Item,{onClick:function(){a(t)},children:Object(n.jsx)(h.a,{icon:"close",style:{color:"#c43",cursor:"pointer"}})})]})},Q=function(e){var t=e.destinations,a=e.conId,r=Object(c.useContext)(S),s=r.addDest,i=r.removeDest,o=Object(c.useState)({destId:""}),d=Object(w.a)(o,2),u=d[0],l=d[1],h=function(){var e=Object(k.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(u.destId,a);case 2:l({destId:""});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(k.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[0===t.length?"no destinations":t.map((function(e){return Object(n.jsx)(G,{destination:e,removeDest:j},e)})),Object(n.jsxs)(B.a,{className:"mt-3",children:[Object(n.jsx)(E.a,{children:Object(n.jsx)(M.a,{onChange:function(e){l(Object(C.a)(Object(C.a)({},u),{},{destId:e}))},value:u.destId,style:{maxWidth:"100%"},placeholder:"Enter destination id"})}),Object(n.jsx)(E.a,{children:Object(n.jsx)(H.a,{color:"green",appearance:"ghost",onClick:h,children:"Add Destination"})})]})]})},X=a(466),Y=function(e){var t=e.rule,a=t.name,c={border:"1px solid ".concat(t.color),padding:7,borderRadius:7,marginBottom:7};return Object(n.jsx)("div",{style:c,children:a})},Z=a(475),$=a(476),ee=a(477),te=a(248),ae=a(249),ne=a(471),ce=function(e){var t=e.rule,a=e.alterData,r=Object(c.useState)(!1),s=Object(w.a)(r,2),i=s[0],o=s[1],d=Object(c.useState)(""),u=Object(w.a)(d,2),l=u[0],j=u[1],p=Object(c.useState)(t.data),b=Object(w.a)(p,2),O=b[0],m=b[1],f=function(e){if(t.isDataPair){var n=e.target.value.trim().split(":");""===e.target.value?o(!1):2!==n.length?N.a.error('please seperate words with ":"',4e3):(n=n.map((function(e){return e.trim()})),a("add",n),m([].concat(Object(v.a)(O),[n])),o(!1),j(""))}else a("add",e.target.value.trim()),m([].concat(Object(v.a)(O),[e.target.value])),o(!1),j("")};return t.hasCheckList?Object(n.jsx)(re,{rule:t,alterData:a}):Object(n.jsxs)($.a,{children:[O.map((function(e,c){return Object(n.jsx)(ee.a,{closable:!0,onClose:function(){!function(e){a("delete",e);var n=t.isDataPair?t.data.filter((function(t){return!(t[0]===e[0]&&t[1]===e[1])})):t.data.filter((function(t){return t!==e}));m(n)}(e)},children:t.isDataPair?e[0]+"=>"+e[1]:e},c)})),i?Object(n.jsx)(te.a,{className:"tag-input",size:"xs",style:{width:70},value:l,onChange:function(e){j(e)},onBlur:f,onPressEnter:f}):Object(n.jsx)(ae.a,{className:"tag-add-btn",onClick:function(){o(!0)},icon:Object(n.jsx)(h.a,{icon:"plus"}),appearance:"ghost",size:"xs"})]})},re=function(e){var t=e.rule,a=e.alterData,c=function(e){var n=t.data.includes(e);a(n?"delete":"add",e)};return Object(n.jsxs)("div",{children:[Object(n.jsx)(ne.a,{defaultChecked:t.data.includes("image"),onChange:c,value:"image",children:"Image"}),Object(n.jsx)(ne.a,{defaultChecked:t.data.includes("video"),onChange:c,value:"video",children:"Video"}),Object(n.jsx)(ne.a,{defaultChecked:t.data.includes("audio"),onChange:c,value:"audio",children:"Audio"}),Object(n.jsx)(ne.a,{defaultChecked:t.data.includes("document"),onChange:c,value:"document",children:"Document"})]})},se=function(e){var t=e.rule,a=e.defaultActive,r=e.updateRule,s=e.addRule,i=e.removeRule,o=Object(c.useState)(a),d=Object(w.a)(o,2),u=d[0],l=d[1],j=t.disabled?{borderColor:t.color,opacity:"0.6"}:{borderColor:t.color};return Object(n.jsxs)("div",{className:"rule-panel-item ".concat(u?"active":"deactive"),style:j,children:[Object(n.jsxs)("div",{className:"rule-panel-item-top",children:[t.name,Object(n.jsx)(Z.a,{checkedChildren:Object(n.jsx)(h.a,{icon:"check"}),unCheckedChildren:Object(n.jsx)(h.a,{icon:"close"}),defaultChecked:a,disabled:t.disabled,onChange:function(e){!1===e?i(t):s(t),l(e)}})]}),Object(n.jsxs)("div",{className:"rule-panel-item-bottom",children:[t.hasData&&Object(n.jsx)(ce,{rule:t,alterData:function(e,a){if("add"===e){var n=Object(C.a)(Object(C.a)({},t),{},{data:[].concat(Object(v.a)(t.data),[a])});r(n)}else if("remove"===e||"delete"===e){var c=t.isDataPair?t.data.filter((function(e){return!(e[0]===a[0]&&e[1]===a[1])})):t.data.filter((function(e){return e!==a})),s=Object(C.a)(Object(C.a)({},t),{},{data:c});r(s)}}}),Object(n.jsx)("div",{children:t.description})]})]})},ie={id11:{hasData:!0,hasDataOption:!1,hasOption:!1,hasParam:!1,hasCheckList:!1,isDataPair:!1,name:"words white list",data:[],id:"11",color:"#6c9",description:"rule description"},id12:{hasData:!0,hasDataOption:!1,hasOption:!1,hasParam:!1,hasCheckList:!1,isDataPair:!1,name:"word black list",data:[],id:"12",color:"#6c9",description:"the messages containing these word will be ignored"},id13:{hasData:!0,hasDataOption:!1,hasOption:!1,hasParam:!1,hasCheckList:!1,isDataPair:!0,name:"replace words",data:[],id:"13",color:"#6c9",description:Object(n.jsx)("div",{className:"text-danger",children:'please use ":" to seperate words'})},id14:{hasData:!0,hasDataOption:!1,hasOption:!0,hasParam:!1,hasCheckList:!1,isDataPair:!1,name:"add before message",data:[],id:"14",color:"#6c9",description:"rule description"},id15:{hasData:!0,hasDataOption:!1,hasOption:!0,hasParam:!1,hasCheckList:!1,isDataPair:!1,name:"add after message",data:[],id:"15",color:"#6c9",description:"rule description"},id16:{hasData:!1,hasDataOption:!1,hasOption:!1,hasParam:!1,hasCheckList:!1,isDataPair:!1,name:"Clear formatting",id:"16",color:"#6c9",description:"rule description"},id17:{hasData:!1,hasDataOption:!1,hasOption:!1,hasParam:!1,hasCheckList:!1,isDataPair:!1,name:"Clear emojies",id:"17",color:"#6c9",description:"rule description"},id21:{hasData:!1,hasDataOption:!1,hasOption:!1,hasParam:!1,hasCheckList:!1,isDataPair:!1,name:"Ban posts with link",id:"21",color:"#c96",description:"rule description"},id22:{hasData:!1,hasDataOption:!1,hasOption:!1,hasParam:!1,hasCheckList:!1,isDataPair:!1,name:"Remove links from posts ",id:"22",color:"#c96",description:"rule description"},id23:{disabled:!0,hasData:!0,hasDataOption:!0,hasOption:!1,hasParam:!1,hasCheckList:!1,isDataPair:!0,name:"Change params in links ",data:[],id:"23",color:"#c96",description:"rule description"},id24:{disabled:!0,hasData:!0,hasDataOption:!0,hasOption:!1,hasParam:!0,hasCheckList:!1,isDataPair:!0,name:"Change params in short links and shorten",data:[],id:"24",color:"#c96",description:"rule description"},id25:{disabled:!0,hasData:!1,hasDataOption:!1,hasOption:!1,hasParam:!1,hasCheckList:!1,isDataPair:!1,name:"Expand link",id:"25",color:"#c96",description:"rule description"},id26:{disabled:!0,hasData:!1,hasDataOption:!1,hasOption:!1,hasParam:!0,hasCheckList:!1,isDataPair:!1,name:"Shorten link",id:"26",color:"#c96",description:"rule description"},id27:{disabled:!0,hasData:!0,hasDataOption:!0,hasOption:!1,hasParam:!0,hasCheckList:!1,isDataPair:!0,name:"Change params then shorten",data:[],id:"27",color:"#c96",description:"rule description"},id28:{disabled:!0,hasData:!0,hasDataOption:!0,hasOption:!1,hasParam:!0,hasCheckList:!1,isDataPair:!0,name:"Ronokovalley",data:[],id:"28",color:"#c96",description:"rule description"},id29:{disabled:!0,hasData:!0,hasDataOption:!1,hasOption:!1,hasParam:!1,hasCheckList:!1,isDataPair:!1,name:"Ban url in expanedd link",data:[],id:"29",color:"#c96",description:"rule description"},id210:{disabled:!0,hasData:!0,hasDataOption:!1,hasOption:!1,hasParam:!1,hasCheckList:!1,isDataPair:!1,name:"Link in expanded url white list",data:[],id:"210",color:"#c96",description:"rule description"},id211:{disabled:!0,hasData:!0,hasDataOption:!1,hasOption:!1,hasParam:!1,hasCheckList:!1,isDataPair:!1,name:"Ban Post with specific link",data:[],id:"211",color:"#c96",description:"rule description"},id212:{disabled:!0,hasData:!0,hasDataOption:!1,hasOption:!1,hasParam:!1,hasCheckList:!1,isDataPair:!1,name:"Remove specific link from post",data:[],id:"212",color:"#c96",description:"rule description"},id31:{hasData:!1,hasDataOption:!1,hasOption:!1,hasParam:!1,hasCheckList:!1,isDataPair:!1,name:"Ban all Medias",id:"31",color:"#69c",description:"messages containing media wont be sent"},id32:{hasData:!0,hasDataOption:!1,hasOption:!1,hasParam:!1,hasCheckList:!0,isDataPair:!1,name:"Media white list",data:[],id:"32",color:"#69c",description:"rule description"},id33:{hasData:!0,hasDataOption:!1,hasOption:!1,hasParam:!1,hasCheckList:!0,isDataPair:!1,name:"Media black list",data:[],id:"33",color:"#69c",description:"rule description"},id34:{hasData:!0,hasDataOption:!1,hasOption:!1,hasParam:!1,hasCheckList:!0,isDataPair:!1,name:"Skip Media",data:[],id:"34",color:"#69c",description:"rule description"},id35:{hasData:!1,hasDataOption:!1,hasOption:!1,hasParam:!1,hasCheckList:!1,isDataPair:!1,name:"remove media preview",id:"35",color:"#69c",description:"rule description"}},oe=[["words white list","words black list","replace words","add before message","add after message","clear all formatting","clear emojies"],["ban posts containing links","remove links from posts","rule 2 option 3","rule 2 option 4","rule 2 option 4","rule 2 option 5","rule 2 option 7","rule 2 option 8","rule 2 option 9","rule 2 option 10","rule 2 option 11","rule 2 option 12"],["ban all media","media white list","media black list","remove media from message","remove media preview"]],de=(a(456),function(e){var t=e.rules,a=e.updateRule,c=e.addRule,r=e.removeRule,s=t.map((function(e){return e.id})),i=Object.keys(ie).map((function(e){return ie[e]})).map((function(e){return s.includes(e.id)?(a=e.id,t.filter((function(e){return e.id===a}))[0]):e;var a}));return Object(n.jsx)(n.Fragment,{children:i.map((function(e){return Object(n.jsx)(se,{rule:e,updateRule:a,addRule:c,removeRule:r,defaultActive:s.includes(e.id)},e.id)}))})}),ue="<_>",le="<;>",he=function(e){return e.map((function(e){return function(e){var t=e.split(ue),a=pe(t[0],t[1]),n=String(t[0])+String(t[1]),c=ie["id".concat(n)],r=[],s={},i=t[2];if(c.hasData){var o=i.split(le);if(c.isDataPair){var d=o.map((function(e){var t=e.split("<:>");return[t[0],t[1]]}));r=Object(v.a)(d)}else c.hasOption?(i.endsWith("<>>")&&(s.option=!0),r=[i.substring(0,i.length-"<>>".length)]):r=Object(v.a)(o)}return Object(C.a)(Object(C.a)(Object(C.a)({},c),s),{},{name:a,id:n,data:r,ds:i,fs:e})}(e)}))},je=function(e){return e.map((function(e){return function(e){var t=[];t.push(e.id.charAt(0)),t.push(e.id.slice(1));var a="";return a=e.hasData?e.isDataPair?e.data.map((function(e){return e.join("<:>")})).join(le):e.data.join(le):"n",t.push(a),t.join(ue)}(e)}))},pe=function(e,t){var a=Number(e)-1,n=Number(t)-1;return oe[a][n]},be=function(e){var t=e.rules,a=e.conId,r=Object(c.useContext)(S).saveRules,s=Object(c.useState)(!1),i=Object(w.a)(s,2),o=i[0],d=i[1],u=Object(c.useState)(he(t)),l=Object(w.a)(u,2),h=l[0],j=l[1],p=function(e){e||j(he(t)),d(!1)},b=function(){var e=Object(k.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(h);case 2:return t=e.sent,console.log(t),e.next=6,r(t,a);case 6:p(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[0===t.length?Object(n.jsx)("div",{children:"no rules"}):he(t).map((function(e,t){return Object(n.jsx)(Y,{rule:e},t)})),Object(n.jsx)(H.a,{className:"mt-4",color:"green",appearance:"ghost",onClick:function(){d(!0)},children:"Edit Rules"}),Object(n.jsxs)(X.a,{show:o,overflow:!0,onHide:p,children:[Object(n.jsx)(X.a.Header,{children:Object(n.jsx)(X.a.Title,{children:"Edit rules"})}),Object(n.jsx)(X.a.Body,{className:"p-1",children:Object(n.jsx)(de,{rules:h,updateRule:function(e){var t=h.filter((function(t){return t.id!==e.id}));t.push(e),console.log(t),j(t)},addRule:function(e){var t=[].concat(Object(v.a)(h),[e]);j(t)},removeRule:function(e){var t=h.filter((function(t){return t.id!==e.id}));j(t)}})}),Object(n.jsxs)(X.a.Footer,{className:"mt-3",children:[Object(n.jsx)(H.a,{onClick:p,appearance:"ghost",color:"yellow",children:"Cancel"}),Object(n.jsx)(H.a,{onClick:b,appearance:"ghost",color:"green",children:"Save"})]})]})]})},Oe=function(e){var t=e.match,a=Object(c.useContext)(S),r=a.activeConnector,s=a.getConnector;if(Object(c.useEffect)((function(){s(t.params.id)}),[]),r){var i=r.name,d=r.sources,u=r.destinations,l=r.rules,h=r.id;return Object(n.jsx)(T.a,{shaded:!0,header:i,className:"mb-4",children:Object(n.jsxs)(U.a,{fluid:!0,children:[Object(n.jsxs)(W.a,{className:"show-grid",children:[Object(n.jsx)(J.a,{xs:24,sm:24,md:8,className:"mb-2",children:Object(n.jsx)(T.a,{bordered:!0,header:"sources",children:Object(n.jsx)(q,{conId:h,sources:d})})}),Object(n.jsx)(J.a,{xs:24,sm:24,md:8,children:Object(n.jsx)(T.a,{bordered:!0,header:"destinations",className:"mb-2",children:Object(n.jsx)(Q,{conId:h,destinations:u})})}),Object(n.jsx)(J.a,{xs:24,sm:24,md:8,children:Object(n.jsx)(T.a,{bordered:!0,header:"rules",children:Object(n.jsx)(be,{conId:h,rules:l})})})]}),Object(n.jsx)(W.a,{className:"mt-3",children:Object(n.jsx)(o.b,{to:"/connectors/"+h+"/delete",children:Object(n.jsx)(H.a,{color:"red",appearance:"ghost",children:"Delete"})})})]})})}return"loading"},me=function(e){var t=e.match,a=Object(c.useContext)(S),r=a.activeConnector,s=a.getConnector,i=a.deleteConnector,o=Object(d.f)(),u=function(){var e=Object(k.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t.params.id);case 2:o.push("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r&&Number(t.params.id)!==Number(r.id)&&s(t.params.id),r?Object(n.jsxs)(T.a,{bordered:!0,header:"Delete ".concat(r.name,"?"),children:["this action cant be undone...",Object(n.jsxs)(V.a,{justify:"space-between",className:"mt-4",children:[Object(n.jsx)(H.a,{color:"red",appearance:"ghost",onClick:u,children:"Delete"}),Object(n.jsx)(H.a,{color:"blue",appearance:"ghost",onClick:function(){o.push("/connectors/".concat(t.params.id))},children:"Cancel"})]})]}):(s(t.params.id),"loading")};var fe=function(){var e="";return Object(n.jsx)("div",{children:Object(n.jsx)(R,{children:Object(n.jsx)(o.a,{children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(p,{}),Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)(d.c,{children:[Object(n.jsx)(d.a,{exact:!0,path:"".concat(e,"/"),component:F}),Object(n.jsx)(d.a,{exact:!0,path:"".concat(e,"/login"),component:z}),Object(n.jsx)(d.a,{exact:!0,path:"".concat(e,"/new"),component:K}),Object(n.jsx)(d.a,{exact:!0,path:"".concat(e,"/connectors/:id"),component:Oe}),Object(n.jsx)(d.a,{exact:!0,path:"".concat(e,"/connectors/:id/delete"),component:me}),Object(n.jsx)(d.a,{exact:!0,path:"".concat(e,"/how-to-get-password"),component:K})]})})]})})})})},xe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,482)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(fe,{})}),document.getElementById("root")),xe()}},[[457,1,2]]]);
//# sourceMappingURL=main.f9de7bd9.chunk.js.map